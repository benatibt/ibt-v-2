/* **********************************************************************
   IBT THEME CSS
   Structural helpers for things that don’t fit in theme.json or templates
   ********************************************************************** */

/* ---------INDEX ----------
   0. Theme documentation
   1. Typography & Base styles
   2. Buttons & Links - Common
   3. Header, Nav & Footer
   4. Layout / Spacing
   5. Utilities
   6. States & Media
   7. Dev Sandbox
   ------------------------ */

/* =====================================================================
             0 - Theme documentation and conventions
  =====================================================================
  
  Purpose:
  Keep all theme-level CSS predictable, token-driven, and accessible.
  Document design here in just enough detail for future maintenance
  without the overhead of separate documents. 

   
--------- 0.1 - TOKEN & NAMING SYSTEM --------
   
WordPress tokens
  --wp--* ........................ Core WP presets
  .editor-styles-wrapper ......... Set formats specifically for site editor.

IBT custom tokens
  --color-* ...................... Semantic colour tokens (palette-agnostic)
  --ibt-adminbar-offset .......... Offset for WP admin bar
  --wp--custom--color--* ......... Private palette (as -color but not exposed to editor)
  --spacing-* .................... Spacing scale (rem-based or clamp)
  --transition-* ................. Motion timing (base, fast, slow) for easy tuning

--------- 0.2 - CLASS NAMING ------------

GENERAL / LAYOUT
  TO REMOVE .ibt-outer-wrap ....... Marks group blocks that should retain root padding.
  .ibt-rootp-apply ................ Add to outer groups to apply root padding.
  .ibt-rootp-keep-pad ............. Keeps block’s own padding inside the content rails.
  .ibt-rootp-bleed ................ Keeps padding but allows it to extend beyond the rails.
HEADER
  .ibt-header ..................... Main header wrapper element.
  .ibt-header-icons ............... Wrapper for all header icon buttons.
  .ibt-header-inner ............... Constrains header inner width and applies root padding.
  .ibt-header-nav ................. Common styling for all navigation instances.
  .ibt-header-nav-desktop ......... Desktop navigation instance.
  .ibt-header-nav-dual ............ Wrapper combining both desktop and mobile nav blocks for breakpoint toggling.
  .ibt-header-nav-mobile .......... Mobile navigation instance.
  .ibt-header-row1 ................ First header row (utility row).
  .ibt-header-row2 ................ Second header row (navigation row).
  .ibt-header-search-button-wrap .. Search button wrapper (for consistent sizing with Woo icons).
  .ibt-header-search-field ........ Container for the search input.
  .ibt-header-search-toggle ....... Icon-only button that toggles search visibility.
  .ibt-header-search.is-open ...... State class applied to header when search field is active/open.
  .ibt-header-sticky .............. Makes the header sticky beneath the WP admin bar.
  .ibt-header-title-desktop ....... Row 1 site title — visible on desktop.
  .ibt-header-title-mobile ........ Row 2 site title — visible on mobile.
  .ibt-header-wooicons ............ Wrapper for WooCommerce header icons.

PREFOOTER
  .ibt-prefooter-card ............. Inline-block wrapper for pre-footer call-to-action card.
  .ibt-prefooter-inner ............ Centers pre-footer inner group content horizontally.

------------- 0.3 - STYLE PRINCIPLES ----------------------

• Header/footer constrained to 80 rem inner width (review later)
• Root padding uses clamp().
• Colour-agnostic design: only #000 / #fff should appear literal.
• All motion ease times use transition tokens.
• Tokens are mostly set in theme.json, reasons for exceptions in comments. This includes
  custom tokens --wp--custom--*
• :has() used for styling elements but not for critical functionality. (Support for v. old browsers.)  
• Typography and spacing use tokens or clamp() at larger sizes for responsive fluid scaling.
• Accessibility: AAA general target but safe AA acceptable if really needed.
• Basic keyboard nav tests during dev, full a11y checks before release


------------ 0.4 - COMMENT CONVENTION -------------------------

Each section comment should include:
  WHY – design intent for all sections / blocks (always)
  WHAT IT DOES – plain English for complex syntax (when needed)
  HOW TO MAINTAIN – notes for future (when needed)

Example: (+ == *)
  /+ Scale nav text to suit container width. 1cqw = 1% of nav container width.
    Note - Adjust slope if wrapping occurs in header desktop nav .+/
  font-size: clamp(1rem, 1cqw + 0.9rem, 1.25rem);


/* ======================================================================
   1. TYPOGRAPHY & BASE STYLES
   Basic styling that doesn't work in json yet
   ====================================================================== */

/* Define variables for use in all transitions. Not in theme.json because
   it doesn't support transitions yet. */
:root {
  --transition-base: 0.2s ease-in-out; /* Default */
  --transition-fast: 0.15s ease-out;   /* hover & micro-lift effects */
  --transition-slow: 0.3s ease;        /* larger fades / layout shifts */
}

/* Headings (per-level until WP adds theme.json support) */
h1 {font-size: var(--wp--preset--font-size--xxxl); font-weight: 700 ; padding-top: var(--wp--preset--spacing--xl) ; padding-bottom: var(--wp--preset--spacing--s);}
h2 {font-size: var(--wp--preset--font-size--xxl); font-weight: 600 ; padding-top: var(--wp--preset--spacing--l) ;}
h3 {font-size: var(--wp--preset--font-size--xl); font-weight: 600 ; padding-top: var(--wp--preset--spacing--m) ;}
h4 {font-size: var(--wp--preset--font-size--l); font-weight: 600 ; padding-top: var(--wp--preset--spacing--m) ;}
h5 {font-size: var(--wp--preset--font-size--m); font-weight: 600 ; padding-top: var(--wp--preset--spacing--s) ;}
h6 {font-size: var(--wp--preset--font-size--m); font-weight: 450 ; padding-top: var(--wp--preset--spacing--s) ;}

/* Visited links in body text. Visited link styling not supported in json yet. */
:where(p, li, .rich-text) a:visited {color: var(--wp--custom--color--color-text-emphasis-primary-visited);}

/* Provide theme style for <hr>, partially supported in json but doing all in one place is cleaner. */
hr,
.wp-block-separator {
  border: none;
  border-top: 1px solid var(--wp--custom--color--border-primary);
  margin-block: var(--wp--preset--spacing--m);
}


/* ======================================================================
   2. BUTTONS & LINKS
   Variants, hover/focus states, global link effects
   ======================================================================
   2.1 - Buttons
   2.2 - Links */

/* ------------------------- 2.1 - Buttons ------------------------------ */

/* Button variants (that can't be styled in json) */
.wp-block-button.is-style-buy-solid .wp-block-button__link {
  background-color: var(--wp--custom--color--color-secondary);
  color: #fff;
  border: 2px solid var(--wp--custom--color--color-secondary);
}

.wp-block-button.is-style-buy-outline .wp-block-button__link {
  background-color: transparent;
  color: var(--wp--custom--color--color-secondary);
  border: 2px solid var(--wp--custom--color--color-secondary);
}

/* Shared button behaviour */
.wp-block-button__link {transition: 
  color var(--transition-base),
  background-color var(--transition-base),
  border-color var(--transition-base),
  transform var(--transition-fast);
}
.wp-block-button__link:hover {transform: translateY(-1px);}
.wp-block-button__link:focus-visible {outline: 2px solid var(--wp--custom--color--color-primary); outline-offset: 2px;}

/* Button hover states by variant */
.wp-block-button:not(.is-style-outline):not(.is-style-buy-solid):not(.is-style-buy-outline) .wp-block-button__link:hover {
  background-color: var(--wp--custom--color--color-primary-hover);
  border-color: var(--wp--custom--color--color-primary-hover);
}
.wp-block-button.is-style-outline .wp-block-button__link:hover {
  color: var(--wp--custom--color--color-primary-hover);
  border-color: var(--wp--custom--color--color-primary-hover);
}
.wp-block-button.is-style-buy-solid .wp-block-button__link:hover {
  background-color: var(--wp--custom--color--color-secondary-hover);
  border-color: var(--wp--custom--color--color-secondary-hover);
}
.wp-block-button.is-style-buy-outline .wp-block-button__link:hover {
  color: var(--wp--custom--color--color-secondary-hover);
  border-color: var(--wp--custom--color--color-secondary-hover);
}

/* ------------------------- 2.2 - Links ------------------------------ */
 
/* Link hover and focus-visible effects */
:where(a[href]):not(.wp-element-button):not(.wp-block-button__link):not(.ibt-header-nav a) {
  transition:
    color var(--transition-base),
    text-decoration-color var(--transition-base);
}

:where(a[href]):not(.wp-element-button):not(.wp-block-button__link):not(.ibt-header-nav a):hover,
.wp-block-navigation:not(.ibt-header-nav) a:hover {
  text-decoration: underline;
  color: var(--wp--custom--color--color-primary-hover);
  text-decoration-thickness: 2px;
  text-underline-offset: 0.25em;
}

:where(a[href]):not(.wp-element-button):not(.wp-block-button__link):not(.ibt-header-nav a):focus-visible,
.wp-block-navigation:not(.ibt-header-nav) a:focus-visible {
  outline: 2px solid var(--wp--custom--color--color-primary);
  outline-offset: 2px;
}


/* ======================================================================
   3. HEADER, NAV & FOOTER
   Sticky, navigation, utility icons, titles, search, footer
   ====================================================================== */

/* 3.1  Sticky header (with admin-bar offsets)
   3.2  Header navigation - Common [.ibt-header-nav]
   3.3  Header navigation - Desktop [.ibt-header-nav-desktop]
   3.4  Header navigation - Mobile [.ibt-header-nav-mobile]
   3.5  Navigation backgrounds
   3.6  Header utility icons (Search, Account, Cart)
   3.7  Header width & alignment
   3.8  Header site titles & nav defaults
   3.9  Header search button & input
   3.10 Footer */
   
/* ----------------------------------------------------------------------
   The IBT header contains *TWO SEPARATE* Navigation block instances to 
   allow breakpoint control and avoid limitations of WP’s overlay toggle.
   ----------------------------------------------------------------------*/


/* ---------- 3.1 Sticky header (with admin-bar offsets) ---------- */

:root { --ibt-adminbar-offset: 0px; } /* default, no admin bar */
.admin-bar { --ibt-adminbar-offset: 32px; } /* WP admin bar desktop */
@media (max-width: 782px) {
  .admin-bar { --ibt-adminbar-offset: 46px; } /* WP admin bar mobile */
}

/* Sticky header */
.ibt-header-sticky,
.wp-block-template-part:has(> .ibt-header-sticky) {
  position: sticky;
  top: var(--ibt-adminbar-offset);
  z-index: 50; /* header above content */
}
.wp-block-template-part:has(> .ibt-header-sticky) { z-index: 49; } /* wrapper stays just below */


/* ---------- 3.2 Header navigation - COMMON ---------- */

/* Ensure all nav items (top-level + submenu) are vertically centered & AAA tap target */
.ibt-header-nav .wp-block-navigation-item__content {
  min-height: 48px;       /* AAA baseline */
  display: flex;
  align-items: center;
}

/* Transparent border avoids layout shift for hover/focus highlight */
.ibt-header-nav .wp-block-navigation-item__content {
  border: 2px solid transparent; border-radius: 6px;
  transition:
    border-color var(--transition-base),
    color  var(--transition-base);
}

/* Apply hover & focus-visible effects to general nav content */
.ibt-header-nav .wp-block-navigation-item__content:hover,
.ibt-header-nav .wp-block-navigation-item__content:focus-visible {
  color: var(--wp--custom--color--color-primary-hover);
  border-color: var(--wp--custom--color--color-primary-hover);
}


/* ---------- 3.3 Header navigation - DESKTOP ONLY ---------- */

/* Spacing, sizing, centering & AAA tap target — top-level & submenu. */
.ibt-header-nav-desktop .wp-block-navigation__container .wp-block-navigation-item__content,
.ibt-header-nav-desktop .wp-block-navigation__submenu-container .wp-block-navigation-item__content {
  padding-top: 0;
  padding-bottom: 0;
  min-height: 48px; /* AAA baseline */
  line-height: 1.2;
  display: flex;
  align-items: center;
}

/* Equal horizontal padding for all clickable elements. */
.ibt-header-nav-desktop :is(
  a.wp-block-navigation-item__content,
  button.wp-block-navigation-item__content,
  button.wp-block-navigation-submenu__toggle,
  button.wp-block-navigation-item__content.wp-block-navigation-submenu__toggle
) { padding-left: 0.5rem; padding-right: 0.5rem; }


/* ---------- 3.4 Header navigation - MOBILE ONLY ---------- */

/* Collapse all submenus on mobile menu by default */
.ibt-header-nav-mobile .wp-block-navigation__responsive-container.is-menu-open
  .wp-block-navigation__submenu-container { display: none; }

/* Reveal submenu when WordPress marks it as open. Robust selection as this is critical */
.ibt-header-nav-mobile .wp-block-navigation__submenu-container.is-open,
.ibt-header-nav-mobile .wp-block-navigation-submenu__toggle[aria-expanded="true"]
  + .wp-block-navigation__submenu-container,
.ibt-header-nav-mobile .wp-block-navigation-submenu__toggle[aria-expanded="true"]
  ~ .wp-block-navigation__submenu-container { display: block; }

/* Add padding inside the mobile overlay (drawer) when open. */
.ibt-header-nav-mobile :is(.wp-block-navigation__responsive-container,
                    .wp-block-navigation__responsive-dialog).is-menu-open
  .wp-block-navigation__responsive-container-content { padding: 1.5rem; }

/* Add padding to mobile elements. !importan req'd and it's limited to .ibt-header-nav-mobile */
.ibt-header-nav-mobile a.wp-block-navigation-item__content,
.ibt-header-nav-mobile button.wp-block-navigation-submenu__toggle {
  padding-left: 1rem !important;
  padding-right: 1rem !important;
}

/* AAA compliant tap target (open + close) */
.ibt-header-nav-mobile :is(
  .wp-block-navigation__responsive-container-open,
  .wp-block-navigation__responsive-container-close
) {
  min-width: 49px;
  min-height: 49px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 2px solid transparent;
  border-radius: 6px;
  color: var(--wp--preset--color--emphasis-primary);
  cursor: pointer;
  transition: color var(--transition-base),
  border-color var(--transition-base);
}

/* Hover and focus-visible states */
.ibt-header-nav-mobile :is(
  .wp-block-navigation__responsive-container-open,
  .wp-block-navigation__responsive-container-close
):hover,
.ibt-header-nav-mobile :is(
  .wp-block-navigation__responsive-container-open,
  .wp-block-navigation__responsive-container-close
):focus-visible {
  color: var(--wp--custom--color--color-primary-hover);
  border-color: currentColor;
}


/* ---------- 3.5 Navigation backgrounds ---------- */

/* Submenus and mobile overlay get consistent header background */
.wp-block-navigation__submenu-container {
  background-color: var(--wp--custom--color--color-header-bg) !important;
}
.wp-block-navigation__responsive-container,
.wp-block-navigation__responsive-dialog {
  background-color: var(--wp--custom--color--color-header-bg) !important;
}


/* ---------- 3.6 Header utility icons (Search, Account, Cart) ---------- */

/* Icon wrapper ensures 44×44px size + border for WCAG tap target */
.ibt-header-wooicons {
  width: 44px;
  height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--wp--preset--color--emphasis-primary);
  border: 2px solid transparent; /* placeholder border prevents shift */
  border-radius: 6px;
  transition: color var(--transition-base),
     border-color var(--transition-base);
  cursor: pointer;
  min-width: 49px;   /* ensure consistent tap target */
  min-height: 49px;  /* merged from .ibt-header-icons > * */
}

/* Reset link/button inside wrapper so it inherits wrapper style */
.ibt-header-wooicons > a,
.ibt-header-wooicons > button {
  all: unset;
  width: 100%;
  height: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: inherit;
  border-radius: inherit;
  cursor: pointer;
}

.ibt-header-wooicons svg {
  width: 24px;
  height: 24px;
  display: block;
  pointer-events: none; /* icon shouldn’t capture events */
}

/* Hover/focus changes icon color and border */
.ibt-header-wooicons:hover,
.ibt-header-wooicons:focus-within {
  color: var(--wp--custom--color--color-primary-hover);
  border-color: var(--wp--custom--color--color-primary-hover);
}


/* ---------- 3.7 Header width & alignment ---------- */

/* Centers header, constrains to wide size, adds root padding */
.ibt-header-inner {
  box-sizing: border-box;
  width: 100%;
  max-width: var(--wp--style--global--wide-size);
  margin-inline: auto;
  /*padding-left: var(--wp--style--root--padding-left);
  padding-right: var(--wp--style--root--padding-right);*/
}


/* ---------- 3.8 Header site titles & nav defaults ---------- */

/* Desktop defaults: show desktop title/nav, hide mobile versions */
.ibt-header-title-desktop {
  display: block;
  line-height: 49px; /* matches icon height */
  height: 49px;
}
.ibt-header-title-mobile  { display: none; }
.ibt-header-nav-dual .ibt-header-nav-desktop { display: block; }
.ibt-header-nav-dual .ibt-header-nav-mobile  { display: none; }

/* Default Row 2: flex-end because mobile title hidden */
.ibt-header-row2.is-layout-flex { justify-content: flex-end; }

/* Force desktop nav to stay horizontal */
.ibt-header-nav-dual .ibt-header-nav-desktop .wp-block-navigation__container {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: center;
}


/* ---------- 3.9 Header search button & input ----------  */

/* Search field hidden by default */
.ibt-header-search-field { display: none; }

/* Wrapper keeps button snug without extra spacing */
.ibt-header-search-button-wrap {
  margin: 0;
  padding: 0;
  width: auto;
  display: inline-flex;
}

/* Toggle button styled as icon only */
.ibt-header-search-toggle {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  width: 49px;
  height: 49px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* When open, show search field at fixed width/height 
   It is run by ibt-header.js*/
.ibt-header-search.is-open .ibt-header-search-field {
  display: grid;
  align-items: center;
  height: var(--wp--custom--search--height);
  width: 280px;
}

/* Style the search box when opened by js */
.ibt-header-search.is-open .ibt-header-search-field input[type="search"] {
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
  padding: var(--wp--custom--search--padding--top)
           var(--wp--custom--search--padding--right)
           var(--wp--custom--search--padding--bottom)
           var(--wp--custom--search--padding--left);
  border: 2px solid var(--wp--custom--color--color-header-border);
  border-radius: var(--wp--custom--search--border--radius);
  background: #fff;
  font-size: var(--wp--preset--font-size--s);
  line-height: 1.4;
}

/* Focus state — rely on border, so suppress outline */
.ibt-header-search.is-open .ibt-header-search-field input[type="search"]:focus-visible {
  outline: none;
}


/* ---------- 3.10 Footer (reserved) ---------- */

/* Placeholder for footer css */

/* ======================================================================
   4. LAYOUT / SPACING
   Root padding and group / wide constraints
   ====================================================================== */

/* ---------- 4.1 Padding Reset ----------- 
   Reset Group block padding to 0 to neutralise inherited values from WP Core
   or theme.json. The :where() selector has zero specificity, so inline editor
   padding or later CSS rules will still apply. */
:where(.wp-block-group) { padding: 0; }

/* ---------- 4.2 Root Padding ----------- 
   Replace WordPress root-padding behaviour (which is difficult to predict)
   with a simple, class-based model.
     • .ibt-rootp-apply → apply theme root padding to outer wrapper using the JSON token
     • inner groups (default) → content constrained by content width or by
       viewport minus 2 × root padding, whichever is smaller
     • background fill of constrained groups → limited by content-box
   CAUTION: Padding added by editors still applies and can visually
   offset the “rail”; use with care when mixing manual padding and root padding. */

/* Apply theme root padding on outer wrappers */
.ibt-rootp-apply {
  padding-inline: var(--wp--custom--layout--root-padding);
}

/* Contain all childrens' fill unless they are explicitly
   aligned full so background colour stops cleanly at the rail. */
.ibt-rootp-apply > :not(.alignfull) {
  box-sizing: content-box;
}

/* .ibt-rootp-bleed — Considered but not implemented.
   If required later, could allow a group’s background colour or image
   to span the full viewport width (100vw offset) while its content
   remains aligned to the rails inside an inner constrained group. */


/* ======================================================================
   5. UTILITIES
   SR-only, status colours, notices, dev/test helpers
   ====================================================================== */

/* Prevent media (img/video/iframe/etc) overflowing */
img, video, iframe, embed, object { max-width: 100%; height: auto; display: block;}

/* Anchor scroll offset to prevent in-page targets hiding behind sticky header */
h1[id], h2[id], h3[id], h4[id], h5[id], h6[id] {scroll-margin-top: 102px;}

/* Screen-reader only text */
.screen-reader-text {
  position: absolute !important;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}

/* Editor-only: force all nav/title variants visible in Site Editor
   (keeps blocks selectable while editing) */
.editor-styles-wrapper .ibt-header-title-desktop,
.editor-styles-wrapper .ibt-header-title-mobile,
.editor-styles-wrapper .ibt-header-nav-dual .ibt-header-nav-desktop,
.editor-styles-wrapper .ibt-header-nav-dual .ibt-header-nav-mobile {
  display: block !important;
}


/* ======================================================================
   6. STATES & MEDIA
   Breakpoints, reduced motion, print
   ====================================================================== */

/* ---------------------- 6.1 Header layout breakpoints ---------------- */

/* ---- Default is narrow desktop / wide tablet ---- */

/* ---- Narrow screens ---- */
@media (max-width: 850px) {
  /* -- Header adaptation for narrow viewport -- */
  .ibt-header-title-desktop { display: none; }   /* Swap site titles */
  .ibt-header-title-mobile  { display: block; }
  .ibt-header-nav-dual.is-layout-flex { justify-content: flex-end; }  /* Row group right, default is space between */
  .ibt-header-nav-dual .ibt-header-nav-desktop { display: none; } /* Swap navs */
  .ibt-header-nav-dual .ibt-header-nav-mobile  { display: block; }
  .ibt-header-row1.is-layout-flex { justify-content: flex-end; }   /* Row 1: desktop title hidden */
  .ibt-header-row2.is-layout-flex { justify-content: space-between; } /* Row 2: mobile title visible */
  /*.ibt-header-inner > .wp-block-column:first-child { flex-basis: 70px; max-width: 70px; } */ /* Reduce logo column width */
}

/* ---- Large width ---- */
@media (min-width: 1000px) {
  /* Larger font size for header navigation items */
  .ibt-header .ibt-header-nav-dual .ibt-header-nav-desktop .wp-block-navigation__container { font-size: var(--wp--preset--font-size--l); }
  /* Increase block gap between nav items */
  .ibt-header .ibt-header-nav-dual .ibt-header-nav-desktop { gap: var(--wp--preset--spacing--xs); }
}

/* ---- Short viewport height ---- */
@media (max-height: 600px) {
  /* Disable sticky header entirely */
  .ibt-header-sticky, .wp-block-template-part:has(> .ibt-header-sticky) { position: static !important; top: auto !important;  }
}


/* ---------------------- 6.2 Header search breakpoints ---------------- */

/* ---- Default is wide screen - Defined in section 3.7 --- */

/* ---- Medium screens (hide desktop site title when search is open) ---- */
@media (max-width: 1000px) and (min-width: 780px) {
  .ibt-header:has(.ibt-header-search.is-open) .ibt-header-title-desktop {
    display: none;
  }
  .ibt-header:has(.ibt-header-search.is-open) .ibt-header-row1.is-layout-flex {
    justify-content: flex-end;
  }
}

/* ---- Narrow screens (shrink search input) ---- */
@media (max-width: 600px) {
  .ibt-header-search.is-open .ibt-header-search-field {
    width: 140px;
  }
}

/* ---- Very narrow screens (hide account + cart to make room) ---- */
@media (max-width: 410px) {
  .ibt-header:has(.ibt-header-search.is-open)
    .ibt-header-icons [data-block-name="woocommerce/customer-account"],
  .ibt-header:has(.ibt-header-search.is-open)
    .ibt-header-icons [data-block-name="woocommerce/mini-cart"] {
    display: none;
  }
}


/* ---------------------- 6.3 Print Safeguards ------------------ */

/* --- Prevent print layout issues (sticky header, double nav) --- */
@media print {
  /* Show desktop navigation and hide mobile navigation */
  .ibt-header-nav-dual .ibt-header-nav-desktop { display: block !important; }
  .ibt-header-nav-dual .ibt-header-nav-mobile  { display: none !important; }

  /* Disable sticky positioning for header and its template wrapper */
  .ibt-header-sticky,
  .wp-block-template-part:has(> .ibt-header-sticky) {
    position: static !important;
    top: auto !important;
  }
}

/* ---------------------- 6.4 Reduced Motion ------------------ */

/* --- Implement user reduced-motion preference (WCAG compliance) --- */
@media (prefers-reduced-motion: reduce) {
  /* Disable smooth scrolling if set anywhere */
  :root, html:focus-within { scroll-behavior: auto !important; }
  /* Disable animations/transitions across the UI */
  *, *::before, *::after {
      animation: none !important;
      transition: none !important;
  }
}


/* ======================================================================
   7. DEV & TEST
   Sandbox. To be moved when complete.
   ====================================================================== */


/* Column wrapper (main + sidebar pattern) */
.ibt-sideb-columns {
  gap: var(--wp--preset--spacing--l);
}

/* Main content column (~50rem max width) */
.ibt-sideb-content {
  max-width: var(--wp--custom--size--content);
}

/* Sidebar column (background + border) */
.ibt-sideb-sideb {
  background-color: var(--wp--custom--color--sidebar-bg);
  border-left: 1px solid var(--wp--custom--color--sidebar-border);
  padding-left: var(--wp--preset--spacing--l);
}

/* Optional sticky CTA area inside sidebar */
.ibt-sideb-sideb .ibt-cta {
  position: sticky;
  top: var(--wp--preset--spacing--xl);
}

/* Responsive collapse (≤50rem) */
@media (max-width: 50rem) {
  .ibt-sideb-sideb {
    border-left: none;
    background-color: transparent;
    padding-left: 0;
  }
}




/* **********************************************************************
   END IBT THEME CSS
   ********************************************************************** */